<style>
h1 { width: 100%; }
h1 > * { vertical-align: middle; }
input { width: 60%; }
</style>
<fieldset style='text-align: center;'>
<legend>shares</legend>
<h4 style='margin: 0;'>
<input type='number' id='qty' name='shares[qty]' step='1' min='1' max='<%= (Bank.wallet[@user.id] / ((2 ** "#{Shares.shares[:shares]}".length) + (2 ** Shares.shares[:owners]))).to_i %>' value='<%= Shares.by[@user.id].to_i %>' style='width: 20%;'>
</h4>
</fieldset>
<fieldset>
<legend>quote</legend>
<h5 id='desc' style='text-align: center; width: 100%; margin: 0;'>1 share.</h5>
<h3 id='amt' style='text-align: center; width: 100%; margin: 0;'><span class='material-icons'>savings</span><%= Shares.cost %></span></h3>
</fieldset>
<h1 style='width: 100%; text-align: center;'>
<select name='shares[mode]'>
<option selected disabled></option>
<option value='buy'>buy</option>
<option value='sell'>sell</option>
</select>
</h1>
<h1 style='width: 100%; text-align: center;'>
<button type='submit' class='ready'>order</button>
</h1>
</div>
<script>
$(document).on('change', '#qty', function(ev) {
ev.preventDefault();
var desc = $('#qty').val() + " shares.";
var amt =  ($('#qty').val() * <%= Shares.cost %>);
$('#desc').html(desc);
$('#amt').html("<span><span class='material-icons'>savings</span>" + amt + "</span>");
});
$(document).on('click', '.ready', function() {
$('form').submit();
});
</script>